imperia_qing_fragile_unity_value = {
	value = 0
	if = {
		limit = {
			# Being a subject yourself adds 20
			is_subject = yes
		}
		add = 20
	}
	if = {
		limit = {
			# Taking loans adds 5
			taking_loans = yes
		}
		add = 5
	}
	if = {
		limit = {
			# Being in default adds 10
			in_default = yes
		}
		add = 10
	}
	if = {
		limit = {
			# Not being unrecognised, meaning you're recognised or.. Decentralised, technically, subtracts 20
			NOT = {
				is_country_type = unrecognized
			}
		}
		subtract = 20
	}
	if = {
		limit = {
			# Not being a monarchy adds 20
			NOT = {
				has_law = law_type:law_monarchy
			}
		}
		add = 20
	}
	# If Qing doesn't have a presence in the following subject capitals...
	if = {
		limit = {
			# If Qing does NOT have a presence in Xinjiang (Tarim Basin)
			exists = c:CHI
			NOT = {
				any_state = {
					state_region = s:STATE_TIANSHAN
					owner = {
						OR = {
							this = c:CHI
							is_subject_of = c:CHI
						}
					}
				}
			}
		}
		add = 5
	}
	if = {
		limit = {
			# If Qing does NOT have a presence in Mongolia (Urga)
			exists = c:CHI
			NOT = {
				any_state = {
					state_region = s:STATE_URGA
					owner = {
						OR = {
							this = c:CHI
							is_subject_of = c:CHI
						}
					}
				}
			}
		}
		add = 5
	}
	if = {
		limit = {
			# If Qing does NOT have a presence in Eastern provinces (Southern Manchuria)
			exists = c:CHI
			NOT = {
				any_state = {
					state_region = s:STATE_SOUTHERN_MANCHURIA
					owner = {
						OR = {
							this = c:CHI
							is_subject_of = c:CHI
						}
					}
				}
			}
		}
		add = 10
	}
	if = {
		limit = {
			# If Qing does NOT have a presence in Gansu (Xibei, Ningxia)
			exists = c:CHI
			NOT = {
				any_state = {
					state_region = s:STATE_NINGXIA
					owner = {
						OR = {
							this = c:CHI
							is_subject_of = c:CHI
						}
					}
				}
			}
		}
		add = 10
	}
	if = {
		limit = {
			# If Qing does NOT have a presence in Tibet (Lhasa)
			exists = c:CHI
			NOT = {
				any_state = {
					state_region = s:STATE_LHASA
					owner = {
						OR = {
							this = c:CHI
							is_subject_of = c:CHI
						}
					}
				}
			}
		}
		add = 5
	}
	if = {
		limit = {
			# If Qing does NOT have a presence in Sichuan
			exists = c:CHI
			NOT = {
				any_state = {
					state_region = s:STATE_SICHUAN
					owner = {
						OR = {
							this = c:CHI
							is_subject_of = c:CHI
						}
					}
				}
			}
		}
		add = 10
	}
	if = {
		limit = {
			# If Qing does NOT have a presence in Huguang (Hunan)
			exists = c:CHI
			NOT = {
				any_state = {
					state_region = s:STATE_HUNAN
					owner = {
						OR = {
							this = c:CHI
							is_subject_of = c:CHI
						}
					}
				}
			}
		}
		add = 10
	}
	if = {
		limit = {
			# If Qing does NOT have a presence in Liangguang (Guangdong)
			exists = c:CHI
			NOT = {
				any_state = {
					state_region = s:STATE_GUANGDONG
					owner = {
						OR = {
							this = c:CHI
							is_subject_of = c:CHI
						}
					}
				}
			}
		}
		add = 10
	}
	if = {
		limit = {
			# If Qing does NOT have a presence in Formosa
			exists = c:CHI
			NOT = {
				any_state = {
					state_region = s:STATE_FORMOSA
					owner = {
						OR = {
							this = c:CHI
							is_subject_of = c:CHI
						}
					}
				}
			}
		}
		add = 5
	}
	if = {
		limit = {
			# If Qing does NOT have a presence in Korea (Gyeonggi)
			exists = c:CHI
			NOT = {
				any_state = {
					state_region = s:STATE_SEOUL
					owner = {
						OR = {
							this = c:CHI
							is_subject_of = c:CHI
						}
					}
				}
			}
		}
		add = 5
	}
	if = {
		limit = {
			# If China loses Amur and Outer Manchuria
			# Hardcoded for now
			NOT = {
				country_or_subject_owns_entire_state_region = STATE_AMUR
				country_or_subject_owns_entire_state_region = STATE_OUTER_MANCHURIA
			}
		}
		add = 5
	}
	### JE completions
	# je_end_han_discrimination
	if = {
		limit = {
			has_variable = je_end_han_discrimination_completed
		}
		subtract = 10
	}
	else_if = {
		limit = {
			has_variable = je_end_han_discrimination_failed
		}
		add = 10
	}
	# je_qing_administrative_reform
	if = {
		limit = {
			has_variable = je_qing_administrative_reform_completed
		}
		subtract = 5
	}
	else_if = {
		limit = {
			has_variable = je_qing_administrative_reform_failed
		}
		add = 5
	}
	# je_rural_poverty_qing
	if = {
		limit = {
			has_variable = je_rural_poverty_qing_completed
		}
		subtract = 10
	}
	else_if = {
		limit = {
			has_variable = je_rural_poverty_qing_failed
		}
		add = 10
	}
	# je_pacify_highland_tribes : Sichuan
	if = {
		limit = {
			has_variable = je_pacify_highland_tribes_completed
		}
		subtract = 5
	}
	# je_silk_march: Gansu
	if = {
		limit = {
			has_variable = je_silk_march_completed
		}
		subtract = 5
	}
	# je_gateway_to_the_west : Liangguang
	if = {
		limit = {
			has_variable = je_gateway_to_the_west_completed
		}
		subtract = 5
	}
	# je_breadbasket_of_the_south : Huguang
	if = {
		limit = {
			has_variable = je_breadbasket_of_the_south_completed
		}
		subtract = 5
	}
	# je_settle_the_steppe : Eastern Provinces
	if = {
		limit = {
			has_variable = je_settle_the_steppe_completed
		}
		subtract = 5
	}
	# je_pacify_and_settle_taiwan : Formosa
	if = {
		limit = {
			has_variable = je_pacify_and_settle_taiwan_completed
		}
		subtract = 5
	}
	### Random JEs and events
	# Banner System Completed
	if = {
		limit = {
			has_variable = banner_system_new_army
		}
		subtract = 10
	}
	if = {
		limit = {
			has_variable = banner_system_yong_ying
		}
		add = 5
	}
	if = {
		limit = {
			has_variable = eight_banners_martial_tradition
		}
		add = 10
	}
	# Linguistics Conference outcome
	if = {
		limit = {
			has_variable = qing_language_conference_beijing_victorious
		}
		subtract = 20
	}
	if = {
		limit = {
			has_variable = qing_language_conference_sichuan_victorious
		}
		subtract = 10
	}
	if = {
		limit = {
			has_variable = qing_language_conference_liangguang_victorious
		}
		subtract = 5
	}
	if = {
		limit = {
			has_variable = qing_language_conference_huguang_victorious
		}
		add = 5
	}
	if = {
		limit = {
			has_variable = qing_language_conference_formosa_victorious
		}
		add = 10
	}
	if = {
		limit = {
			has_variable = qing_language_conference_no_winner
		}
		add = 20
	}
	# Opium wars  
	if = {
		limit = {
			has_variable = opium_wars_china_win
		}
		subtract = 20
	}
	if = {
		limit = {
			has_variable = opium_wars_china_lost
		}
		add = 20
	}
	### Stuff from vanilla, that we havent ported over, goes here.
	# Absolish monarchy
	if = {
		limit = {
			has_variable = china_warlord_abolished_monarchy
		}
		subtract = 20
	}
	# Taiping was allowed to survive, and you're not at war with them (actually allows you to reconquer them to regain the points)
	if = {
		limit = {
			exists = c:TPG
			NOT = {
				has_war_with = c:TPG
			}
		}
		add = 20
	}
	# Is in revolution
	if = {
		limit = {
			has_variable = china_warlord_explosion_revolution
		}
		add = 20
	}
	# Taiping appeared
	if = {
		limit = {
			has_variable = imperia_taiping_appeared
		}
		add = 10
	}
	# Boxer rebvellion timed out
	if = {
		limit = {
			has_variable = je_boxer_rebellion_timed_out
		}
		add = 20
	}
	# Treaty Ports
	every_state_region = {
		limit = {
			OR = {
				region = sr:region_north_china
				region = sr:region_south_china
				region = sr:region_manchuria
			}
			any_scope_state = {
				is_treaty_port = yes
			}
		}
		add = 5
	}
	#Opium Epidemic JE
	#	if = {
	#		limit = {
	#			has_modifier = modifier_opium_eradicated
	#		}
	#		subtract = 10
	#	}
	#	if = {
	#		limit = {
	#			has_modifier = modifier_opium_ascendant
	#		}
	#		add = 10
	#	}
	#These go last
	min = 0
	max = 100
}

imperia_china_infamy_penalty_value = {
	value = 0
	if = {
		limit = {
			NOR = {
				country_has_primary_culture = cu:manchu
				country_has_primary_culture = cu:mongol
				country_has_primary_culture = cu:tibetan
				any_primary_culture = {
					has_discrimination_trait = han_chinese
				}
			}
		}
		every_scope_state = {
			limit = {
				is_treaty_port = no
				state_region = {
					is_homeland = cu:han
					NOT = {
						this = s:STATE_FORMOSA
					}
				}
			}
			add = 4
		}
		every_subject_or_below = {
			limit = {
				any_scope_state = {
					is_treaty_port = no
					state_region = {
						is_homeland = cu:han
						NOT = {
							this = s:STATE_FORMOSA
						}
					}
				}
			}
			every_scope_state = {
				limit = {
					is_treaty_port = no
					state_region = {
						is_homeland = cu:han
						NOT = {
							this = s:STATE_FORMOSA
						}
					}
				}
				add = 4
			}
		}
	}
}
